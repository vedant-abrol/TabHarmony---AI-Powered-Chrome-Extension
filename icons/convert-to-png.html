<!DOCTYPE html>
<html>
<head>
  <title>Convert TabHarmony Icons to PNG</title>
  <style>
    body { font-family: system-ui, sans-serif; padding: 40px; background: #F5F7F9; color: #333; }
    h1 { background: linear-gradient(135deg, #5DB5A4, #7CB9E8, #A8A4CE); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 2rem; }
    .icons { display: flex; gap: 30px; flex-wrap: wrap; margin: 30px 0; }
    .icon-card { background: white; padding: 20px; border-radius: 16px; text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
    .icon-card canvas { border-radius: 8px; }
    button { background: linear-gradient(135deg, #5DB5A4, #48A999); border: none; color: white; padding: 12px 24px; border-radius: 10px; cursor: pointer; margin-top: 10px; font-weight: 600; transition: transform 0.2s; }
    button:hover { transform: scale(1.02); }
    .download-all { background: linear-gradient(135deg, #7CB9E8, #5DB5A4, #A8A4CE); font-size: 1.1rem; padding: 16px 32px; margin-bottom: 20px; }
    .instructions { background: white; padding: 24px; border-radius: 16px; margin-top: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
    code { background: #F0F4F8; padding: 3px 10px; border-radius: 6px; color: #5DB5A4; }
    .preview { margin: 20px 0; padding: 20px; background: white; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
    .preview img { max-width: 200px; border-radius: 12px; }
  </style>
</head>
<body>
  <h1>üéµ TabHarmony Icon Generator</h1>
  <p>Generate PNG icons from the new folder + treble clef design.</p>
  
  <button class="download-all" onclick="downloadAll()">‚¨áÔ∏è Download All Icons</button>
  
  <div class="icons" id="icons"></div>
  
  <div class="instructions">
    <h3>üìã Instructions:</h3>
    <ol>
      <li>Click "Download All Icons" or download individually</li>
      <li>Save them in the <code>icons/</code> folder with the correct names</li>
      <li>Files needed: <code>icon16.png</code>, <code>icon32.png</code>, <code>icon48.png</code>, <code>icon128.png</code></li>
      <li>Reload your extension in Chrome to see the new icon!</li>
    </ol>
  </div>

  <script>
    const sizes = [16, 32, 48, 128];
    const canvases = {};
    
    const createSVG = (size) => {
      // Scale factors based on 128px base
      const s = size / 128;
      
      return `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${size} ${size}" width="${size}" height="${size}">
        <defs>
          <linearGradient id="blueFolder" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#7CB9E8"/>
            <stop offset="100%" style="stop-color:#5B9BD5"/>
          </linearGradient>
          <linearGradient id="tealFolder" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#5DB5A4"/>
            <stop offset="100%" style="stop-color:#48A999"/>
          </linearGradient>
          <linearGradient id="purpleFolder" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#A8A4CE"/>
            <stop offset="100%" style="stop-color:#9590C4"/>
          </linearGradient>
          <linearGradient id="clefGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#5DB5A4"/>
            <stop offset="100%" style="stop-color:#48A999"/>
          </linearGradient>
        </defs>
        
        <!-- Background -->
        <rect width="${size}" height="${size}" rx="${size * 0.19}" fill="#F5F7F9"/>
        
        <!-- Blue Folder (top) -->
        <path d="M${16*s} ${28*s} L${16*s} ${24*s} Q${16*s} ${18*s} ${22*s} ${18*s} L${42*s} ${18*s} Q${46*s} ${18*s} ${48*s} ${22*s} L${52*s} ${28*s} L${66*s} ${28*s} Q${72*s} ${28*s} ${72*s} ${34*s} L${72*s} ${48*s} Q${72*s} ${54*s} ${66*s} ${54*s} L${22*s} ${54*s} Q${16*s} ${54*s} ${16*s} ${48*s} Z" fill="url(#blueFolder)"/>
        
        <!-- Teal Folder (middle) -->
        <path d="M${16*s} ${52*s} L${16*s} ${48*s} Q${16*s} ${42*s} ${22*s} ${42*s} L${42*s} ${42*s} Q${46*s} ${42*s} ${48*s} ${46*s} L${52*s} ${52*s} L${66*s} ${52*s} Q${72*s} ${52*s} ${72*s} ${58*s} L${72*s} ${72*s} Q${72*s} ${78*s} ${66*s} ${78*s} L${22*s} ${78*s} Q${16*s} ${78*s} ${16*s} ${72*s} Z" fill="url(#tealFolder)"/>
        
        <!-- Purple Folder (bottom) -->
        <path d="M${16*s} ${76*s} L${16*s} ${72*s} Q${16*s} ${66*s} ${22*s} ${66*s} L${42*s} ${66*s} Q${46*s} ${66*s} ${48*s} ${70*s} L${52*s} ${76*s} L${66*s} ${76*s} Q${72*s} ${76*s} ${72*s} ${82*s} L${72*s} ${96*s} Q${72*s} ${102*s} ${66*s} ${102*s} L${22*s} ${102*s} Q${16*s} ${102*s} ${16*s} ${96*s} Z" fill="url(#purpleFolder)"/>
        
        <!-- Treble Clef -->
        <g transform="translate(${68*s}, ${24*s})">
          <path d="M${28*s} ${8*s} 
                   C${32*s} ${4*s} ${38*s} ${6*s} ${40*s} ${12*s} 
                   C${42*s} ${18*s} ${38*s} ${26*s} ${32*s} ${32*s} 
                   C${26*s} ${38*s} ${30*s} ${44*s} ${36*s} ${44*s} 
                   C${42*s} ${44*s} ${46*s} ${38*s} ${46*s} ${32*s} 
                   C${46*s} ${26*s} ${42*s} ${22*s} ${38*s} ${22*s} 
                   C${34*s} ${22*s} ${30*s} ${26*s} ${30*s} ${32*s} 
                   C${30*s} ${38*s} ${34*s} ${42*s} ${38*s} ${46*s} 
                   C${42*s} ${50*s} ${44*s} ${56*s} ${42*s} ${62*s} 
                   C${40*s} ${68*s} ${34*s} ${72*s} ${28*s} ${72*s} 
                   C${22*s} ${72*s} ${18*s} ${68*s} ${18*s} ${62*s} 
                   C${18*s} ${56*s} ${22*s} ${52*s} ${28*s} ${52*s} 
                   C${34*s} ${52*s} ${36*s} ${56*s} ${34*s} ${60*s} 
                   C${32*s} ${64*s} ${28*s} ${64*s} ${28*s} ${60*s}" 
                stroke="url(#clefGradient)" stroke-width="${Math.max(2, 5*s)}" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="${28*s}" cy="${58*s}" r="${Math.max(2, 4*s)}" fill="url(#clefGradient)"/>
        </g>
      </svg>`;
    };
    
    const container = document.getElementById('icons');
    
    sizes.forEach(size => {
      const card = document.createElement('div');
      card.className = 'icon-card';
      
      const canvas = document.createElement('canvas');
      canvas.width = size;
      canvas.height = size;
      canvas.style.width = `${Math.max(80, size)}px`;
      canvas.style.height = `${Math.max(80, size)}px`;
      canvases[size] = canvas;
      
      const ctx = canvas.getContext('2d');
      const img = new Image();
      const svgBlob = new Blob([createSVG(size)], {type: 'image/svg+xml'});
      const url = URL.createObjectURL(svgBlob);
      
      img.onload = () => {
        ctx.drawImage(img, 0, 0);
        URL.revokeObjectURL(url);
      };
      img.src = url;
      
      const label = document.createElement('p');
      label.innerHTML = `<strong>${size}√ó${size}</strong>`;
      
      const btn = document.createElement('button');
      btn.textContent = `Download icon${size}.png`;
      btn.onclick = () => downloadIcon(size);
      
      card.appendChild(label);
      card.appendChild(canvas);
      card.appendChild(document.createElement('br'));
      card.appendChild(btn);
      container.appendChild(card);
    });
    
    function downloadIcon(size) {
      const link = document.createElement('a');
      link.download = `icon${size}.png`;
      link.href = canvases[size].toDataURL('image/png');
      link.click();
    }
    
    function downloadAll() {
      sizes.forEach((size, i) => {
        setTimeout(() => downloadIcon(size), i * 200);
      });
    }
  </script>
</body>
</html>
